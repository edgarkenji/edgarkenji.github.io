<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Devlog - A simple to-do app - part 5 &middot; Edgar Kenji
    
  </title>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1279348-2', 'auto');
  ga('send', 'pageview');

</script>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/debug.css">
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-08">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>Edgar Kenji</h1>
      <p class="lead">Coding, gaming and other nerd stuff</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a href="/">Home</a>
      </li>

      

      
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/about/">About</a>
            </li>
          
        
      
        
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/portfolio/">Portfolio</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/tags/">Tags</a>
            </li>
          
        
      
        
          
        
      

    </ul>

    <div class="all-tags">
  All tags:
  <ul>
    
    <li class="debug">{"name"=>"devlog", "count"=>6}{"name"=>"swiftui", "count"=>6}{"name"=>"swift", "count"=>6}{"name"=>"ios", "count"=>6}</li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/devlog/
          rel="category tag">
          #devlog (6)
        </a>
      </li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/swiftui/
          rel="category tag">
          #swiftui (6)
        </a>
      </li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/swift/
          rel="category tag">
          #swift (6)
        </a>
      </li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/ios/
          rel="category tag">
          #ios (6)
        </a>
      </li>
    
  </ul>
</div>

    <p>&copy; 2020. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Devlog - A simple to-do app - part 5</h1>
  <span class="post-date">29 Nov 2020</span>
    <div class="post-tags">
  
    
    <a class="tag-link" href=/tags/devlog/ rel="category tag">
      #devlog
    </a>
  
    
    <a class="tag-link" href=/tags/swiftui/ rel="category tag">
      #swiftui
    </a>
  
    
    <a class="tag-link" href=/tags/swift/ rel="category tag">
      #swift
    </a>
  
    
    <a class="tag-link" href=/tags/ios/ rel="category tag">
      #ios
    </a>
  
  </div>

  <p>I’ll begin this devlog with a simple to-do app in SwiftUI. The idea is to explain the basic concepts of this language while we learn together. This will be the general roadmap of this series:</p>

<ul>
  <li><a href="% post_url 2020-11-25-devlog-sample-todo-app %">Create a checkbox</a></li>
  <li><a href="% post_url 2020-11-26-devlog-sample-todo-app-2 %">Add a text to the checkbox</a></li>
  <li><a href="% post_url 2020-11-27-devlog-sample-todo-app-3 %">Use a data model to show a list of items</a></li>
  <li><a href="% post_url 2020-11-28-devlog-sample-todo-app-4 %">Add an item</a></li>
  <li>Allow editing the text of the item</li>
  <li>Delete an item</li>
  <li>Add a tab bar and another view with a summary of the items</li>
  <li>Add persistence to the items</li>
</ul>

<h2 id="allow-editing-the-text-of-the-item">Allow editing the text of the item</h2>

<p>We can add infinite items to our list but it’s not useful if we can’t edit the text on it, is it? So our goal now is to change the checkbox’s text label to a textfield. So I’ll rename our <code class="language-plaintext highlighter-rouge">CheckboxText</code> to <code class="language-plaintext highlighter-rouge">CheckboxTextfield</code> (also update all references):</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">CheckboxTextfield</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="k">var</span> <span class="nv">item</span><span class="p">:</span> <span class="kt">TodoItem</span>
    
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Checkbox</span><span class="p">(</span><span class="nv">isChecked</span><span class="p">:</span> <span class="err">$</span><span class="n">item</span><span class="o">.</span><span class="n">checked</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">TextField</span><span class="p">(</span><span class="s">"Tap to edit your to-do item"</span><span class="p">,</span> <span class="nv">text</span><span class="p">:</span> <span class="err">$</span><span class="n">item</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Run the app and see that we can change the text on the to-do item. That was fast!</p>

<p>We’ll take this opportunity to fix something that might throw some people off. Whenever we toggle the check of an item, the label moves. That’s because our checked image occupies a larger space than when there’s nothing.</p>

<p>So let’s go back to our <code class="language-plaintext highlighter-rouge">Checkbox</code> and add a spacer with the same size and padding:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">var</span> <span class="nv">checkbox</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">ZStack</span> <span class="p">{</span>
            <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"square"</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">resizable</span><span class="p">()</span>
                <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">checked</span> <span class="p">{</span>
                <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"checkmark"</span><span class="p">)</span>
                    <span class="o">.</span><span class="nf">resizable</span><span class="p">()</span>
                    <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">trailing</span><span class="p">)</span>
                    <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="kt">EdgeInsets</span><span class="p">(</span><span class="nv">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">leading</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">bottom</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">trailing</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span>
                    <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// Add a spacer to fill up the same space as the checked image</span>
                <span class="kt">Spacer</span><span class="p">()</span>
                    <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">trailing</span><span class="p">)</span>
                    <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="kt">EdgeInsets</span><span class="p">(</span><span class="nv">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">leading</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">bottom</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">trailing</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>And it’s done! Now the text won’t move around when toggling the checkbox.</p>

<p>You can check the full source code on <a href="https://github.com/edgarkenji/SimpleTodo/tree/feature/checkbox">Github</a>. Keep in mind that since it might be incomplete as I progress through this series.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2020/11/30/devlog-a-simple-todo-app-6/">
            Devlog - A simple to-do app - part 6
            <small>30 Nov 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/11/28/devlog-a-simple-todo-app-4/">
            Devlog - A simple to-do app - part 4
            <small>28 Nov 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/11/27/devlog-a-simple-todo-app-3/">
            Devlog - A simple to-do app - part 3
            <small>27 Nov 2020</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
