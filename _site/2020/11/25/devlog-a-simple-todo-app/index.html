<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Devlog - A simple to-do app - part 1 &middot; Edgar Kenji
    
  </title>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1279348-2', 'auto');
  ga('send', 'pageview');

</script>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/debug.css">
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-08">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>Edgar Kenji</h1>
      <p class="lead">Coding, gaming and other nerd stuff</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a href="/">Home</a>
      </li>

      

      
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/about/">About</a>
            </li>
          
        
      
        
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/portfolio/">Portfolio</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/tags/">Tags</a>
            </li>
          
        
      
        
          
        
      

    </ul>

    <div class="all-tags">
  All tags:
  <ul>
    
    <li class="debug">{"name"=>"devlog", "count"=>6}{"name"=>"swiftui", "count"=>6}{"name"=>"swift", "count"=>6}{"name"=>"ios", "count"=>6}</li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/devlog/
          rel="category tag">
          #devlog (6)
        </a>
      </li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/swiftui/
          rel="category tag">
          #swiftui (6)
        </a>
      </li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/swift/
          rel="category tag">
          #swift (6)
        </a>
      </li>
    
      
      <li>
        <a class="tag-link"
          href=/tags/ios/
          rel="category tag">
          #ios (6)
        </a>
      </li>
    
  </ul>
</div>

    <p>&copy; 2020. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Devlog - A simple to-do app - part 1</h1>
  <span class="post-date">25 Nov 2020</span>
    <div class="post-tags">
  
    
    <a class="tag-link" href=/tags/devlog/ rel="category tag">
      #devlog
    </a>
  
    
    <a class="tag-link" href=/tags/swiftui/ rel="category tag">
      #swiftui
    </a>
  
    
    <a class="tag-link" href=/tags/swift/ rel="category tag">
      #swift
    </a>
  
    
    <a class="tag-link" href=/tags/ios/ rel="category tag">
      #ios
    </a>
  
  </div>

  <p>I’ll begin this devlog with a simple to-do app in SwiftUI. The idea is to explain the basic concepts of this language while we learn together. This will be the general roadmap of this series:</p>

<ul>
  <li>Create a checkbox</li>
  <li>Add a text to the checkbox</li>
  <li>Use a data model to show a list of items</li>
  <li>Add an item</li>
  <li>Allow editing the text of the item</li>
  <li>Delete an item</li>
  <li>Add a tab bar and another view with a summary of the items</li>
  <li>Add persistence to the items</li>
</ul>

<h2 id="create-a-checkbox">Create a checkbox</h2>

<p>“Wait, there isn’t a built-in checkbox?”</p>

<p>Well, if you’re versed in the UIKit world you might know about the “switch” component, which works exactly like a checkbox but doesn’t really feel like a checkbox. That’s why we’re building one from scratch.</p>

<p>So how do we get it done? There are several ways to do it, but maybe the easiest one is to just overlap two images, one for the box, and another for the check, as Swift UI 2.0 makes it easy to just conditionally change the view that’s used.</p>

<p>We’ll be using system images so if you want to check which ones are available, you can use Apple’s own SF Symbols app for that.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@State</span> <span class="k">var</span> <span class="nv">checked</span><span class="p">:</span> <span class="kt">Bool</span> <span class="c1">// keep the check state</span>
<span class="k">var</span> <span class="nv">checkbox</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kt">ZStack</span> <span class="p">{</span> <span class="c1">// stack the views one over the other</span>
        <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"square"</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">resizable</span><span class="p">()</span> <span class="c1">// make the image resizable</span>
            <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span> <span class="c1">// let's fit into a 20x20 frame</span>
            <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span> <span class="c1">// and paint it gray</span>
        <span class="k">if</span> <span class="n">checked</span> <span class="p">{</span>
            <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"checkmark"</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">resizable</span><span class="p">()</span>
                <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">trailing</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="kt">EdgeInsets</span><span class="p">(</span><span class="nv">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">leading</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">bottom</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">trailing</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span> <span class="c1">// offset the check a bit to make it look like it's coming out of the box</span>
                <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)</span> <span class="c1">// we'll paint this one green</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Now, to treat the component like a button:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">checked</span><span class="o">.</span><span class="nf">toggle</span><span class="p">()</span>
    <span class="p">},</span> <span class="nv">label</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">checkbox</span>
    <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The final code:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Checkbox</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="k">var</span> <span class="nv">checked</span><span class="p">:</span> <span class="kt">Bool</span>
    
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Button</span> <span class="p">{</span>
            <span class="n">checked</span><span class="o">.</span><span class="nf">toggle</span><span class="p">()</span>
        <span class="p">}</span> <span class="nv">label</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">checkbox</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">var</span> <span class="nv">checkbox</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">ZStack</span> <span class="p">{</span> <span class="c1">// stack the views one over the other</span>
            <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"square"</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">resizable</span><span class="p">()</span> <span class="c1">// make the image resizable</span>
                <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span> <span class="c1">// let's fit into a 20x20 frame</span>
                <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span> <span class="c1">// and paint it gray</span>
            <span class="k">if</span> <span class="n">checked</span> <span class="p">{</span>
                <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"checkmark"</span><span class="p">)</span>
                    <span class="o">.</span><span class="nf">resizable</span><span class="p">()</span>
                    <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">trailing</span><span class="p">)</span>
                    <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="kt">EdgeInsets</span><span class="p">(</span><span class="nv">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">leading</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">bottom</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">trailing</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span> <span class="c1">// offset the check a bit to make it look like it's coming out of the box</span>
                    <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)</span> <span class="c1">// we'll paint this one green</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Let’s add a preview to see how it looks like:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Checkbox_Previews</span><span class="p">:</span> <span class="kt">PreviewProvider</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">previews</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Group</span> <span class="p">{</span>
            <span class="kt">Checkbox</span><span class="p">(</span><span class="nv">checked</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">preferredColorScheme</span><span class="p">(</span><span class="o">.</span><span class="n">dark</span><span class="p">)</span>
            <span class="kt">Checkbox</span><span class="p">(</span><span class="nv">checked</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can check the full source code on <a href="https://github.com/edgarkenji/SimpleTodo/tree/feature/checkbox">Github</a>. Keep in mind that since it might be incomplete as I progress through this series.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2020/11/30/devlog-a-simple-todo-app-6/">
            Devlog - A simple to-do app - part 6
            <small>30 Nov 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/11/29/devlog-a-simple-todo-app-5/">
            Devlog - A simple to-do app - part 5
            <small>29 Nov 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/11/28/devlog-a-simple-todo-app-4/">
            Devlog - A simple to-do app - part 4
            <small>28 Nov 2020</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
